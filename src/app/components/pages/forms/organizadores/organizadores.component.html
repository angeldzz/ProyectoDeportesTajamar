<div class="card border border-primary-subtle shadow-sm mx-auto" style="max-width: 820px;">
  <div class="card-body">
    <div class="row g-3 align-items-end">
      <div class="col-12 col-md-6">
        <label class="form-label fw-semibold text-primary">Curso</label>
        <select
          class="form-select border-primary-subtle"
          [(ngModel)]="cursoSeleccionado"
          (change)="onCursoChange()">
          <option value="0">Selecciona un curso</option>
          <option *ngFor="let curso of cursos" [value]="curso.idCurso">
            {{ curso.nombre }}
          </option>
        </select>
      </div>

      <div class="col-12 col-md-6">
        <label class="form-label fw-semibold text-primary">Usuario</label>
        <select
          class="form-select border-primary-subtle"
          [(ngModel)]="usuarioSeleccionado"
          [disabled]="!usuariosCurso.length">
          <option value="0">Selecciona un usuario</option>
          <option *ngFor="let u of usuariosCurso" [value]="u.idUsuario">
            {{ u.usuario }} ({{ u.email }})
          </option>
        </select>
      </div>

      <div class="col-12 col-md-6 d-grid">
        <button
          class="btn btn-primary fw-semibold"
          [disabled]="!usuarioSeleccionado"
          (click)="crearOrganizador(usuarioSeleccionado)">
          Hacer organizador
        </button>
      </div>

      <div class="col-12 col-md-6 d-grid">
        <button
          class="btn btn-danger fw-semibold"
          [disabled]="!usuarioSeleccionado"
          (click)="borrarOrganizador(usuarioSeleccionado)">
          Quitar organizador
        </button>
      </div>
    </div>
  </div>
</div>


<!-- `src/app/components/pages/forms/organizadores/organizadores.component.html` -->
<div class="container mt-4">
  <div class="table-responsive">
    <table class="table table-striped align-middle">
      <thead>
        <tr>
          <th scope="col">ID usuario</th>
          <th scope="col"></th>
          <th scope="col">Usuario</th>
          <th scope="col">Curso</th>
        </tr>
      </thead>

      <tbody>
        @for (o of organizadores; track o.idUsuario) {
          <tr>
            <td>{{ o.idUsuario }}</td>
            <td>
              <p-avatar [image]=o.imagen size="large" shape="circle" />
            </td>
            <td>{{ o.usuario }}</td>
            <td>{{ o.curso }}</td>
          </tr>
        } @empty {
          <tr>
            <td colspan="4" class="text-center text-muted py-4">
              No hay organizadores para mostrar
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>
